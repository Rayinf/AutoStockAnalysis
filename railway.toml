[build]
builder = "dockerfile"
dockerfilePath = "Dockerfile"

[deploy]
startCommand = "uvicorn app:app --host 0.0.0.0 --port $PORT"
restartPolicyType = "ON_FAILURE"
restartPolicyMaxRetries = 10

[env]
# 这些环境变量需要在Railway控制台中设置
# OPENAI_API_KEY = "your-openai-api-key"
# ANTHROPIC_AUTH_TOKEN = "your-anthropic-token"
# ANTHROPIC_BASE_URL = "https://anyrouter.top"
# MODEL_NAME = "gpt-4-turbo"

[healthcheck]
path = "/"
interval = 30
timeout = 10

[scaling]
minReplicas = 1
maxReplicas = 1